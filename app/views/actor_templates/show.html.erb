<h1>
  Actor #<%= @the_actor.id %> Details
</h1>

<a href="/actors">
  Go Back
</a>

<div>
  <a href="/delete_actor/<%= @the_actor.id %>">Delete actor</a>
</div>

<hr>

<form action="/modify_actor_record/<%= @the_actor.id %>" method="post">
  <div>
    <label for="name_field">Name</label>
    <input id="name_field" type="text" name="the_name" value="<%= @the_actor.name %>">
  </div>
  <div>
    <label for="dob_field">Date of Birth</label>
    <input id="dob_field" type="text" name="the_dob" value="<%= @the_actor.dob %>">
  </div>
  <div>
    <label for="bio_field">Bio</label>
    <input id="bio_field" type="text" name="the_bio" value="<%= @the_actor.bio %>">
  </div>
  <div>
    <label for="image_field">Image</label>
    <input id="image_field" type="text" name="the_image" value="<%= @the_actor.image %>">
  </div>
  <button type="submit">
    Update Actor
  </button>
</form>

<hr>

<dl>
  <dt>Name</dt>
  <dd><%= @the_actor.name %></dd>

  <dt>Date of Birth</dt>
  <dd><%= @the_actor.dob %></dd>

  <dt>Bio</dt>
  <dd><%= @the_actor.bio %></dd>

  <dt>Image</dt>
  <dd><img src="<%= @the_actor.image %>" style="width:250px;" alt="Actor Image"></dd>

  <dt>Created at</dt>
  <dd><%= @the_actor.created_at %></dd>

  <dt>Updated at</dt>
  <dd><%= @the_actor.updated_at %></dd>
</dl>

<hr>

<h2>Filmography</h2>

<table border="1">
  <tr>
    <th>Title</th>
    <th>Year</th>
    <th>Director</th>
    <th>Character Name</th>
    <th></th>
  </tr>

  <% matching_characters = Character.where(actor_id: @the_actor.id) %>

  <% matching_characters.each do |a_character| %>
    <% the_movie = Movie.find(a_character.movie_id) %>
    <% the_director = Director.find(the_movie.director_id) %>

    <tr>
      <td><%= the_movie.title %></td>
      <td><%= the_movie.year %></td>
      <td><%= the_director.name %></td>
      <td><%= a_character.name %></td>
      <td>
        <a href="/movies/<%= the_movie.id %>">
          Show Details
        </a>
      </td>
    </tr>
  <% end %>
</table>
